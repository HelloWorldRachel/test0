
<!DOCTYPE html>
<html>
<meta charset="utf-8">
<style>
div.tooltip {
  position: absolute;
  text-align: center;
  width: 60px;
  height: 80px;
  padding: 2px;
  background: white;
  font: 12px sans-serif;
  border: 0px;
  border-radius: 8px;
  pointer-events: none;       
}
</style>
<body>
<script src="https://d3js.org/d3.v4.min.js"></script>

<script>
//set the dimensions and margins of the graph
var margin = {top: 50, right: 50, bottom: 70, left: 90},
    width = 750 - margin.left - margin.right,
    height = 450 - margin.top - margin.bottom;
//set the ranges
var x=d3.scaleLinear().range([0,width])
var y=d3.scaleLinear().range([height,0])
//add tooltip area
var div = d3.select("body").append("div")
    .attr("class", "tooltip")
    .style("opacity", 0);
//append svg,group
var svg=d3.select("body").append('svg')
          .attr("width",width+margin.left+margin.right)
          .attr("height",height+margin.top+margin.bottom)
          .append('g')
          .attr("transform","translate("+margin.left+","+margin.top+")");
//get the data
d3.csv("auto.csv",function(error,data){
        if (error) throw error;
        data.forEach(function(d){
          d.mpg=+d.mpg;
          d.weight=+d.weight;
        });
//scale the range of the data
x.domain(d3.extent(data,function(d){return d.weight;}));
y.domain(d3.extent(data,function(d){return d.mpg;}));
 //add the scatterplot
 svg.selectAll("dot")
     .data(data)
     .enter().append("circle")
     .attr("r",5)
     .attr("cx",function(d){return x(d.weight);})
     .attr("cy",function(d){return y(d.mpg);})
     .attr("fill","steelblue")
     .style("opacity", .7)
     .on("mouseover", function(d) {      
            div.transition()        
                .duration(200)      
                .style("opacity", .9);      
               div.html("("+d.weight + "," + d.mpg+")"+"<br/>"+d.name)  
                .style("left", (d3.event.pageX) + "px")     
                .style("top", (d3.event.pageY - 28) + "px");    
            })                  
        .on("mouseout", function(d) {       
            div.transition()        
                .duration(500)      
                .style("opacity", 0);   
        });
//add the x axis
svg.append("g")
  .attr("transform","translate( 0,"+height+")")
  .call(d3.axisBottom(x));
svg.append("text")             
      .attr("transform",
            "translate(" + (width/2) + " ," + 
                           (height + margin.top+15) + ")")
      .style("text-anchor", "middle")
      .text("weight");
//Add title
 svg.append("text")
        .attr("x", (width / 2))             
        .attr("y", 0 - (margin.top / 2))
        .attr("text-anchor", "middle")  
        .style("font-size", "16px") 
        .style("text-decoration", "underline")  
        .text("Mpg against Weight");
// Add the Y Axis
svg.append("g")
  .call(d3.axisLeft(y));
svg.append("text")
      .attr("transform", "rotate(-90)")
      .attr("y", 0 - margin.left+15)
      .attr("x",0 - (height / 2))
      .attr("dy", "1em")
      .style("text-anchor", "middle")
      .text("mpg");      
});
</script>
</body>

</html>
